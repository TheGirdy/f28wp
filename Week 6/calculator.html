<html> 

    <head>
        <link rel="stylesheet" href="styles.css">
        <script
            src="https://code.jquery.com/jquery-3.7.1.min.js"
            integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
            crossorigin="anonymous">
        </script>

        <script src="javascript.js"></script>


        <script> 
        $(document).ready(function(){
    var result = 0;
    var previousEntry = 0;
    var operation = null; //Value is null initially.
    var currentEntry = '0';
    updateScreen(result);


    $('.button').on('click', function(evt){
        var buttonPressed = $(this).html();
        console.log(buttonPressed);
        if(buttonPressed === "C"){
            result = 0; 
            currentEntry = '0';
        } else if (buttonPressed === "CE"){
            currentEntry = '0';
        }else if (buttonPressed === "backspace"){
            currentEntry = currentEntry.substring(0, currentEntry.length-1);
        }else if (buttonPressed === "+/-"){
            currentEntry *= -1;
        }else if (buttonPressed === '.'){
            currentEntry += '.';
        }else if (isNumber(buttonPressed)){
            if(currentEntry === '0') currentEntry = buttonPressed;
            else currentEntry = currentEntry + buttonPressed;
        }else if (isOperator(buttonPressed)){
            previousEntry = parseFloat(currentEntry);
            operation = buttonPressed;
            currentEntry = '';
        }else if(buttonPressed === '%'){
            currentEntry = currentEntry / 100;
        }else if(buttonPressed === squareRoot){ 
            currentEntry = Math.sqrt(currentEntry); 
        }else if(buttonPressed === '1/x'){
            currentEntry = 1 / currentEntry;
        }else if (buttonPressed === 'pi'){
            currentEntry = Math.PI;
        }else if(buttonPressed === '='){
            currentEntry = operate(previousEntry,  currentEntry, operation);
            operation = null;
        }

        updateScreen(currentEntry)
    
    })

});

updateScreen = function(displayValue){
    console.log('called updateScreen');
    var displayValue = displayValue.toString();
    $('.calc_screen').html(displayValue.substring(0,10));
};

isNumber = function(value){
    return !isNaN(value);
}

isOperator = function(value){
    return value === '/' || value === '*' || value === '+' || value === '-';
};

operate = function(a,b,operation){
    a = parseFloat(a);
    b = parseFloat(b);
    console.log(a.b,operation);
    if(operation === '+') return a + b;
    if(operation === '-') return a - b;
    if(operation === '*') return a * b;
    if(operation === '/') return a / b;
}
        </script>

        <title> Calculator Program</title>
    </head>

    <body>
        <h1 style="text-align: center; color: yellow;"> Ryan Girdwood Calculator Program</h1>
        
        
        <div class="calculator">
            <p style="color:yellow;">Ryan Girdwood</p>
            <div class="calc_row">
                <div class="calc_screen" style ="width: 85%;">0123456789</div> 
            </div>
        
            <div class="calc_row"> 
                <div class="button">C</div>
                <div class="button">CE</div>
                <div class="button backspace">back</div>
                <div class="button plus_minus">+/-</div>
                <div class="button">%</div>
            </div>

            <div class="calc_row">
                <div class="button">7</div>
                <div class="button">8</div>
                <div class="button">9</div>
                <div class="button divide">/</div>
                <div class="button sqrt">sqrt</div>
            </div>

            <div class="calc_row">
                <div class="button">4</div>
                <div class="button">5</div>
                <div class="button">6</div>
                <div class="button multiply">*</div>
                <div class="button inverse">1/x</div>
            </div>
        
            <div class="calc_row">
                <div class="button">1</div>
                <div class="button">2</div>
                <div class="button">3</div>
                <div class="button">-</div>
                <div class="button pi">pi</div>
            </div>

            <div class="calc_row">
                <div class="button" style="width:120px">0</div>
                <div class="button decimal">.</div>
                <div class="button">+</div>
                <div class="button equal">=</div>
            </div>
        
        
        
        </div> 

    </body>   


</html>